(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/apply_distribution"],{"0740":function(t,e,n){"use strict";var a=n("e595"),i=n.n(a);i.a},"0a41":function(t,e,n){"use strict";n.r(e);var a=n("3b79"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);e["default"]=i.a},"348d":function(t,e,n){"use strict";(function(t){n("f0cb"),n("921b");a(n("66fd"));var e=a(n("ea9b"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"3b79":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("61f9"));function i(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{currentCompany:"",isSHowCompany:!1,comPanyObj:"",imgHttp:"",cardBbefare:"",cardAfter:"",binNUm:"",binName:"",username:"",usertel:"",usercode:"",countDown:"获取验证码",codeStatus:!0,usercard:"",companyid:""}},methods:{closeCompany:function(){this.isSHowCompany=!this.isSHowCompany},chooseType:function(t){console.log(t),this.currentCompany=JSON.parse(t.detail.value).name,this.companyid=JSON.parse(t.detail.value).id},getCompany:function(){var e=this,n={token:t.getStorageSync("token"),userid:t.getStorageSync("customer").userid};this.ask("/app/me/getContactList","POST",n,function(t){console.log(t),e.comPanyObj=t.data.data})},chooseImg:function(e){var n=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){var i=a.tempFilePaths;t.uploadFile({url:n.comHttp+"/CMS/imgUpload/Upload",filePath:i[0],name:"file",formData:{user:"test"},success:function(t){"1"==e?n.cardAfter=JSON.parse(t.data).src:n.cardBbefare=JSON.parse(t.data).src}})}})},getBin:function(t){var e=this;a.default.getBankBin(t).then(function(t){console.log(t),e.binName=t.bankName}).catch(function(t){e.hint(t),console.log(t)})},getCode:function(){if(!(this.codeStatus=!1)){var e=this,n={token:t.getStorageSync("token"),userid:t.getStorageSync("customer").userid,telephone:this.usertel};""!=this.usertel?/^1[3456789]\d{9}$/.test(this.usertel)?this.ask("/app/me/getApplicationCode","POST",n,function(t){e.hint("验证码发送成功"),e.codeStatus=!1,e.countDown=60,console.log(t);var n=setInterval(function(){e.countDown--,e.countDown<=0&&(clearInterval(n),e.countDown="重新获取验证码",e.codeStatus=!0)},1e3)}):this.hint("手机号码有误，请重填"):this.hint("请输入申请人电话")}},submitApply:function(){if(""!=this.currentCompany)if(""!=this.username)if(""!=this.usertel)if(/^1[3456789]\d{9}$/.test(this.usertel))if(""!=this.usercode)if(""!=this.usercard)if(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(this.usercard))if(""!=this.cardBbefare)if(""!=this.cardAfter)if(""!=this.binNUm)if(""!=this.binName){var e=this,n={token:t.getStorageSync("token"),userid:t.getStorageSync("customer").userid,companyid:this.companyid,name:this.username,telephone:this.usertel,vCode:this.usercode,identity_card:this.usercard,identity_card_front:this.cardBbefare,identity_card_back:this.cardAfter,bank:this.binName,card:this.binNUm};console.log(n),this.ask("/app/me/applicationMarket","POST",n,function(n){e.hint("提交成功"),console.log(n);var a={token:t.getStorageSync("token"),userid:t.getStorageSync("customer").userid};e.ask("/app/userLogin/refreshUserInfo","POST",a,function(n){-1==n.data.userInfo.avatar.indexOf("http")&&(n.data.userInfo.avatar=e.comHttp+n.data.userInfo.avatar),t.setStorageSync("customer",n.data.userInfo),t.navigateBack({delta:1})})})}else this.hint("请填写银行名称");else this.hint("请填写银行卡号");else this.hint("请上传国徽面");else this.hint("请上传人像面");else this.hint("身份证格式错误，请重填");else this.hint("请填写身份证");else this.hint("请填写验证码");else this.hint("手机号码有误，请重填");else this.hint("请输入申请人电话");else this.hint("请输入申请人名字");else this.hint("请选择分公司")}},onLoad:function(){this.imgHttp=this.comHttp,this.getCompany()}};e.default=s}).call(this,n("543d")["default"])},bea7:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.comPanyObj,function(e,n){var a=JSON.stringify({name:e.name,id:e.id});return{$orig:t.__get_orig(e),g0:a}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},s=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a})},e595:function(t,e,n){},ea9b:function(t,e,n){"use strict";n.r(e);var a=n("bea7"),i=n("0a41");for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n("0740");var o,r=n("f0c5"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=c.exports}},[["348d","common/runtime","common/vendor"]]]);