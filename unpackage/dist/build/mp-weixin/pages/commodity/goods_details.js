(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/commodity/goods_details"],{3862:function(e,t,i){},"59eb":function(e,t,i){"use strict";i.r(t);var o=i("76bf"),n=i.n(o);for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);t["default"]=n.a},"76bf":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{heightTop:"",height:"",key:"",userid:"",brand:"",model:"",platform:"",detailsObj:{},imgHttp:"",carousel:[],currentType:-1,modalName:"",vipprice:"",orginprice:"",specSelectedId:"",specSelectedName:"",userObj:{},token:"",collectType:!1,openShare:""}},methods:{back:function(){"share"==this.openShare?e.switchTab({url:"../home/home"}):e.navigateBack({delta:1})},closeDoLogin:function(){this.modalName=""},to_member:function(){e.navigateTo({url:"../my/member"})},isLogin2:function(t){""==e.getStorageSync("token")&&""==e.getStorageSync("customer")?this.modalName="doLoginModal":t()},addCollect:function(){var t=this;this.isLogin2(function(){var i={token:e.getStorageSync("token"),itemid:t.key,userid:e.getStorageSync("customer").userid,iscollect:t.collectType};t.collectType?e.showLoading({title:"取消收藏"}):e.showLoading({title:"添加收藏"}),t.ask("/app/index/addCollect","POST",i,function(e){t.collectType=e.data.iscollect})})},isCollect:function(){var t=this,i={token:e.getStorageSync("token"),itemid:t.key,userid:e.getStorageSync("customer").userid};this.ask("/app/index/isCollect","POST",i,function(e){t.collectType=e.data.iscollect})},addCart:function(){var t=this;this.isLogin2(function(){if(-1==t.currentType&&0!=t.detailsObj.specification_detail.length)t.hint("请选择规格");else{var i={token:e.getStorageSync("token"),itemid:t.key,userid:e.getStorageSync("customer").userid,spec:t.specSelectedName};t.ask("/app/index/addCart","GET",i,function(e){t.hint("加入购物车成功")})}})},nowBuy:function(){var t=this;this.isLogin2(function(){if("0"!=e.getStorageSync("customer").usertype&&null!=e.getStorageSync("customer").usertype)if(-1==t.currentType&&0!=t.detailsObj.specification_detail.length)t.hint("请选择规格");else{var i=[{itemid:t.key,itemnum:1,specid:t.specSelectedId}],o=t.vipprice;e.navigateTo({url:"../my/order_sure?goodsObj="+JSON.stringify(i)+"&&endPrice="+o+"&&source=goodsDetails"})}else t.modalName="Modal"})},chooseType:function(e,t,i,o,n){this.vipprice=e,this.orginprice=n,this.currentType=t,this.specSelectedId=i,this.specSelectedName=o},getGoodsDetails:function(){var e={key:this.key,userid:this.userid,brand:this.brand,model:this.model,platform:this.platform},t=this;this.ask("/app/index/getProduct","GET",e,function(e){t.detailsObj=e.data.data,t.carousel=t.detailsObj.carousel.split(","),t.vipprice=t.detailsObj.vipprice})}},onLoad:function(t){console.log(t),this.heightTop=this.StatusBar+"px",this.height=this.CustomBar+"px",this.imgHttp=this.comHttp,this.key=t.id,this.openShare=t.type;var i=e.getSystemInfoSync();this.brand=i.brand,this.model=i.model,this.platform=i.platform,this.getGoodsDetails(),""!=e.getStorageSync("token")&&""!=e.getStorageSync("customer")&&this.isCollect(),"share"==t.type&&(console.log(33333),e.setStorageSync("sender",t.userid))},onShareAppMessage:function(t){return e.navigateTo({url:".goods_de"}),{title:this.detailsObj.name,path:"/pages/commodity/goods_details?id="+this.key+"&&type=share&&userid="+e.getStorageSync("customer").userid}},onShow:function(){this.modalName=""}};t.default=i}).call(this,i("543d")["default"])},"7fd3":function(e,t,i){"use strict";var o=i("3862"),n=i.n(o);n.a},acd3:function(e,t,i){"use strict";i.r(t);var o=i("d583"),n=i("59eb");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("7fd3");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);t["default"]=r.exports},baa7:function(e,t,i){"use strict";(function(e){i("f0cb"),i("921b");o(i("66fd"));var t=o(i("acd3"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},d583:function(e,t,i){"use strict";var o,n=function(){var e=this,t=e.$createElement,i=(e._self._c,e.detailsObj.keyword.replace(","," ")),o=e.__map(e.detailsObj.specification_detail,function(t,i){var o=t.combination.replace(","," ");return{$orig:e.__get_orig(t),g1:o}});e.$mp.data=Object.assign({},{$root:{g0:i,l0:o}})},a=[];i.d(t,"b",function(){return n}),i.d(t,"c",function(){return a}),i.d(t,"a",function(){return o})}},[["baa7","common/runtime","common/vendor"]]]);