<view class="page"><cu-custom vue-id="1" bgColor="bg-gradual-blue" isBack="{{false}}" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content">商品列表</view></cu-custom><view class="list_head"><swiper display-multiple-items="{{3}}" current="{{currentType}}"><block wx:for="{{typeList.flist}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item><text data-event-opts="{{[['tap',[['chooseType',['$0',index],[[['typeList.flist','',index,'id']]]]]]]}}" class="{{['nav',(currentType==index)?'nav_act':'']}}" bindtap="__e">{{item.name}}</text></swiper-item></block><block wx:for="{{2}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="fill_data"><text>index</text></swiper-item></block></swiper></view><view class="filtrate"><view data-event-opts="{{[['tap',[['chooseOrder',[0]]]]]}}" class="{{[(currentOrder==0)?'act_order':'']}}" bindtap="__e"><text>综合排序</text></view><view data-event-opts="{{[['tap',[['chooseOrder',[1]]]]]}}" class="{{[(currentOrder==1)?'act_order':'']}}" bindtap="__e"><text>销量优先</text></view><view data-event-opts="{{[['tap',[['chooseOrder',[2]]]]]}}" class="{{[(currentOrder==2)?'act_order':'']}}" bindtap="__e"><text>价格</text></view><view class="filtrate_btn"><image src="../../static/filtrate.png" mode data-event-opts="{{[['tap',[['toggleCateMask',['show']]]]]}}" bindtap="__e"></image></view></view><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{currentType==index}}"><view class="{{['goodsList',index]}}"><block wx:for="{{item.l0}}" wx:for-item="val" wx:for-index="num" wx:key="num"><view data-event-opts="{{[['tap',[['toDetails',['$0'],[[['goods','',index],['arr.__$n0','',num,'id']]]]]]]}}" class="row" bindtap="__e"><view class="left"><image src="{{imgHttp+val.$orig.cover}}" mode></image></view><view class="center"><view class="good"><text class="title">{{val.$orig.name}}</text><text class="sub_title">{{val.g0}}</text></view><view class="price_box"><view class="price">{{"￥"+val.$orig.sellingprice}}<text class="unit">{{"/"+val.$orig.unit}}</text></view><view class="num">{{"销量:"+val.$orig.salesvolume}}</view></view></view></view></block><block wx:if="{{item.$orig.count==item.$orig.arr[0].length}}"><view class="foot_line">没有更多了</view></block></view></block></block><view data-event-opts="{{[['tap',[['toggleCateMask',['$event']]]]]}}" class="{{['cate-mask ',cateMaskState===0?'none':cateMaskState===1?'show':'']}}" style="{{'top:'+(headerTop)+';'+('height:'+(cateHeight)+';')}}" bindtap="__e"><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]],['touchmove',[['stopPrevent',['$event']]]]]}}" class="cate-content" catchtap="__e" catchtouchmove="__e"><scroll-view class="scroll" scroll-y="true"><block wx:if="{{typeList.flist[currentType].classify.length!=0}}"><view class="type_list"><text class="title">分类</text><view class="sub_title"><block wx:for="{{$root.l2}}" wx:for-item="val" wx:for-index="num" wx:key="num"><text data-event-opts="{{[['tap',[['chooseClassify',['$0'],[[['typeList.flist.'+currentType+'.classify','',num,'id']]]]]]]}}" class="{{[(val.g1)?'act_type':'']}}" bindtap="__e">{{val.$orig.name}}</text></block></view></view></block><block wx:if="{{typeList.flist[currentType].area.length!=0}}"><view class="type_list"><text class="title">产地</text><view class="sub_title"><block wx:for="{{typeList.flist[currentType].area}}" wx:for-item="val" wx:for-index="num" wx:key="num"><text data-event-opts="{{[['tap',[['chooseArea',[num]]]]]}}" class="{{[(currentArea==num)?'act_type':'']}}" bindtap="__e">{{val.area}}</text></block></view></view></block><block wx:if="{{typeList.flist[currentType].supplier.length!=0}}"><view class="type_list"><text class="title">供应商</text><view class="sub_title"><block wx:for="{{typeList.flist[currentType].supplier}}" wx:for-item="val" wx:for-index="num" wx:key="num"><text data-event-opts="{{[['tap',[['chooseSupplier',[num]]]]]}}" class="{{[(currentSupplier==num)?'act_type':'']}}" bindtap="__e">{{val.supplier}}</text></block></view></view></block></scroll-view><view class="foot_btn"><view data-event-opts="{{[['tap',[['resetBtn']]]]}}" class="init_btn" bindtap="__e">重置</view><view data-event-opts="{{[['tap',[['sureBtn']]]]}}" class="sure_btn" bindtap="__e">确定</view></view></view></view></view>