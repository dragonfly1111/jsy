{"version":3,"sources":["uni-app:///main.js","webpack:////Users/jiaxuefei/person/金三源/sanyuan/pages/cart/cart.vue?d4e7","webpack:////Users/jiaxuefei/person/金三源/sanyuan/pages/cart/cart.vue?3edf","webpack:////Users/jiaxuefei/person/金三源/sanyuan/pages/cart/cart.vue?ee6b","webpack:////Users/jiaxuefei/person/金三源/sanyuan/pages/cart/cart.vue?6feb","uni-app:///pages/cart/cart.vue","webpack:////Users/jiaxuefei/person/金三源/sanyuan/pages/cart/cart.vue?01bf","webpack:////Users/jiaxuefei/person/金三源/sanyuan/pages/cart/cart.vue?2cc2"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqGt1B,qE;;AAEA;AACA;AACA,kCADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,iBADA;AAEA,wBAFA;AAGA,kBAHA,EAGA;AACA,kBAJA,EAIA;AACA,oBALA;AAMA,uBANA;AAOA,iBAPA;AAQA,mBARA;AASA,qBATA;;AAWA,GAhBA;AAiBA;AACA;AACA,aAFA,uBAEA;AACA;AACA,KAJA;;AAMA;AACA,YAPA,sBAOA;AACA;AACA,KATA;;AAWA,aAXA,uBAWA;AACA;AACA,KAbA;;AAeA;AACA;AACA;AACA,KAlBA;AAmBA;AACA,WApBA,qBAoBA;AACA;AACA,2BADA;;AAGA,KAxBA;AAyBA;AACA;AACA;AACA,kDADA;;AAGA,KA9BA;AA+BA;AACA;AACA;AACA,2BADA;;AAGA,KApCA;AAqCA;AACA,YAtCA,oBAsCA,CAtCA,EAsCA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;AAEA,KAhDA;AAiDA;AACA,OAlDA,eAkDA,CAlDA,EAkDA;AACA;AACA;AACA,gCADA;AAEA,qBAFA,aAEA;AACA;AACA;AACA;AACA;AACA;AACA,WARA;AASA,OATA,MASA;AACA;AACA;AACA;AACA;AACA;;AAEA,KApEA;AAqEA;AACA,aAtEA,uBAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAlFA;AAmFA;AACA,cApFA,wBAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oGADA;;AAGA,KAzGA;AA0GA;AACA,iBA3GA,yBA2GA,EA3GA,EA2GA;AACA;AACA;AACA,4CADA;AAEA,uDAFA;AAGA,oBAHA;;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA,KAhIA;AAiIA;AACA,eAlIA,yBAkIA;AACA;AACA;AACA,4CADA;AAEA,uDAFA;;AAIA;AACA;AACA;;AAEA,OAJA;AAKA,KA7IA;AA8IA;AACA,UA/IA,kBA+IA,KA/IA,EA+IA,GA/IA,EA+IA,GA/IA,EA+IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAzJA;AA0JA;AACA,aA3JA,qBA2JA,KA3JA,EA2JA,GA3JA,EA2JA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAnKA,EAjBA;;;AAuLA,QAvLA,oBAuLA;AACA;;AAEA,GA1LA;AA2LA,QA3LA,oBA2LA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,GArMA,E;;;;;;;;;;;;;ACvGA;AAAA;AAAA;AAAA;AAA2/C,CAAgB,43CAAG,EAAC,C;;;;;;;;;;;ACA/gD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=04341a26&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/jiaxuefei/person/金三源/sanyuan/pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=04341a26&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.cartList, function(item, index) {\n    var g0 = _vm.selected.includes(\n      JSON.stringify({\n        itemid: item.id\n      })\n    )\n    var g1 = JSON.stringify({\n      itemid: item.id\n    })\n    return {\n      $orig: _vm.__get_orig(item),\n      g0: g0,\n      g1: g1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"cart_box\" v-cloak>\r\n\t\t<cu-custom bgColor=\"none-bg\" :isBack=\"true\">\r\n\t\t\t<block slot=\"content\">购物车</block>\r\n\t\t</cu-custom>\r\n\t\t<view class=\"head-line\">\r\n\t\t\t<view class=\"shop-name\">\r\n\t\t\t\t<image src=\"../../static/my/shop.png\"></image>\r\n\t\t\t\t金三源\r\n\t\t\t</view>\r\n\t\t\t<text v-if=\"!showEdit && cartList.length != 0\" @click=\"openEdit()\">编辑</text>\r\n\t\t\t<text v-if=\"showEdit && cartList.length != 0\" @click=\"closeEdit()\">取消</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"goodsList\" true>\r\n\t\t\t<checkbox-group  @change=\"getCheck($event)\">\r\n\t\t\t<view class=\"row\" v-for=\"(item,index) in cartList \" :key=\"item.id\" >\r\n\t\t\t\t<image v-if=\"showEdit\" src=\"../../static/com/clear.png\" class=\"clear\" mode=\"\" @click=\"clearCartList(item.id)\"></image>\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t        \t<checkbox class='round blue' :checked=\"selected.includes(JSON.stringify({itemid:item.id}))\" :value=\"JSON.stringify({itemid:item.id})\"></checkbox> \r\n\t\t\t\t\t<image :src=\"imgHttp + item.cover\" mode=\"\" @click=\"to_goods(item.itemid)\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"center\">\r\n\t\t\t\t\t<view class=\"good\">\r\n\t\t\t\t\t\t<text class=\"title\">{{item.name}}</text>\r\n\t\t\t\t\t\t<!-- <text class=\"sub_title\">{{item.keyword.replace(\",\",\" \")}}</text> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view @click=\"openSheet()\" class=\"specification\">\r\n\t\t\t\t\t\t<text>一斤装*3草草草草草</text>\r\n\t\t\t\t\t\t<image src=\"../../static/my/icon-down.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price\">￥<text class=\"num\">{{item.sellingprice}}</text></view>\r\n\t\t\t\t\t<!-- <text class=\"unit\">/{{item.unit}}</text> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view class=\"reduce\" @click=\"reduceNum(index,item.num)\">\r\n\t\t\t\t\t\t-\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"num\">\r\n\t\t\t\t\t\t{{item.num}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"add\" @click=\"addNum(index,item.num)\">\r\n\t\t\t\t\t\t+\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n            </checkbox-group>\r\n\t\t</view>\r\n\t\t<view class=\"foot_box\" v-if=\"isLogin == true && cartList.length != 0 \">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<checkbox-group name=\"\" @change=\"all($event)\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<checkbox :checked=\"allCheckbox\" value=\"all\" class='round blue' /><text>全选</text>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</checkbox-group>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<!-- <text class=\"title\">免运费</text> -->\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"title\">合计:<text class=\"symbol\">￥</text><text class=\"num\">{{endPrice}}</text></view>\r\n\t\t\t\t\t<view class=\"ship-price\">不含运费</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"btn\" @click=\"to_details()\">结算</text>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"no_data\" v-if=\"isLogin == false\">\r\n\t\t\t<image src=\"../../static/com/emptyCart.png\" mode=\"\"></image>\r\n\t\t\t<button class=\"cu-btn bg-golden margin-tb-sm\" open-type=\"getUserInfo\" @getuserinfo=\"getinfo('cart')\">亲，去授权</button>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"no_data\" v-if=\"cartList.length == 0 && isLogin==true\">\r\n\t\t\t<image src=\"../../static/com/emptyCart.png\" mode=\"\"></image>\r\n\t\t\t<text>购物车还是空的</text>\r\n\t\t\t<button class=\"cu-btn bg-golden margin-tb-sm\" @click=\"to_home()\">进 店 逛 逛</button>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t\t<goodsRecommend></goodsRecommend>\r\n\t\t<view style=\"width: 100%; height: 150rpx;\"></view>\r\n\t\t\r\n\t\t<view class=\"cu-modal\" :class=\"modalName=='Modal'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"content\">友情提示</view>\r\n\t\t\t\t\t<view class=\"action\" @tap=\"closeDoLogin\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-close text-golden\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-xl\">\r\n\t\t\t\t\t<view>您还不是三源会员，无法购买商品！</view>\r\n\t\t\t\t\t<button class=\"cu-btn bg-golden margin-tb-sm lg\" @click=\"to_member\">立即开通会员</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<floatWindows :showFloat=\"true\"></floatWindows>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Vue from 'vue'\r\n\timport goodsRecommend from '../../components/goods-recommend.vue'\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\tgoodsRecommend,\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\timgHttp:'',\r\n\t\t\t\tallCheckbox:false,\r\n\t\t\t\tselected:[],//选中的商品\r\n\t\t\t\tcartList:[],//购物车列表\r\n\t\t\t\tisLogin:false,\r\n\t\t\t\tcartStatus:'去登陆',\r\n\t\t\t\tendPrice: 0,\r\n\t\t\t\tmodalName:'',\r\n\t\t\t\tshowEdit: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 打开选择规格\r\n\t\t\topenSheet(){\r\n\t\t\t\tconsole.log('打开选择规格')\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//打开编辑\r\n\t\t\topenEdit(){\r\n\t\t\t\tthis.showEdit = true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcloseEdit(){\r\n\t\t\t\tthis.showEdit = false\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//关闭授权\r\n\t\t\tcloseDoLogin:function(){\r\n\t\t\t\tthis.modalName = '';\r\n\t\t\t},\r\n\t\t\t//跳转到首页\r\n\t\t\tto_home(){\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl:\"../home/home\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//跳转到商品详情\r\n\t\t\tto_goods:function(id){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"../commodity/goods_details?id=\" + id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//跳转到会员页面\r\n\t\t\tto_member:function(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../my/member'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取单个选中的值\r\n\t\t\tgetCheck(e){\r\n\t\t\t\tconsole.log(e.detail.value)\r\n\t\t\t\tthis.selected = e.detail.value;\r\n\t\t\t\tif(this.selected.length == this.cartList.length){\r\n\t\t\t\t\tthis.allCheckbox = true;\r\n\t\t\t\t} else{\r\n\t\t\t\t\tthis.allCheckbox = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.end_price();\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//全选\r\n\t\t\tall(e){\r\n\t\t\t\tlet chooseItem = e.detail.value;\r\n\t\t\t\tif(chooseItem[0]=='all'){\r\n\t\t\t\t\tthis.allCheckbox=true;\r\n\t\t\t\t\tfor(let item of this.cartList){\r\n\t\t\t\t\t\t// let itemVal= JSON.stringify({itemid:item.itemid,itemnum:item.num,specid:item.specid});\r\n\t\t\t\t\t\tlet itemVal= JSON.stringify({itemid:item.id});\r\n\t\t\t\t\t\tif(!this.selected.includes(itemVal)){\r\n\t\t\t\t\t\t\tthis.selected.push(itemVal);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// 取消全选\r\n\t\t\t\t\tthis.allCheckbox=false;\r\n\t\t\t\t\tthis.selected=[];\r\n\t\t\t\t}\r\n\t\t\t\tthis.end_price();\r\n\r\n\t\t\t},\r\n\t\t\t//计算总价\r\n\t\t\tend_price(){\r\n\t\t\t\tthis.endPrice = 0;\r\n\t\t\t\tfor(let j = 0 ; j<this.cartList.length;j++){\r\n\t\t\t\t\tfor(let i =0;i<this.selected.length;i++){\r\n\t\t\t\t\t\tif(JSON.parse(this.selected[i]).itemid == this.cartList[j].id){\r\n\t\t\t\t\t\t\tthis.endPrice += this.cartList[j].sellingprice * this.cartList[j].num\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// this.endPrice = Number(this.endPrice) * Number(uni.getStorageSync('customer').discount) / 10\r\n\t\t\t\tthis.endPrice = Math.floor(this.endPrice * 100) / 100 \r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//跳转到订单确定页面\r\n\t\t\tto_details(){\r\n\t\t\t\tif(uni.getStorageSync('customer').usertype ==\"0\" || uni.getStorageSync('customer').usertype ==null){\r\n\t\t\t\t    this.modalName = 'Modal'\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.selected.length == 0){\r\n\t\t\t\t\tthis.hint('请选择要结算的商品');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet goodsObj = [];\r\n\t\t\t\tfor(let j = 0 ; j<this.cartList.length;j++){\r\n\t\t\t\t\tfor(let i = 0 ; i<this.selected.length;i++){\r\n\t\t\t\t\t\tif(JSON.parse(this.selected[i]).itemid == this.cartList[j].id){\r\n\t\t\t\t\t\t\tgoodsObj.push(JSON.stringify({itemid:this.cartList[j].itemid,itemnum:this.cartList[j].num,specid:this.cartList[j].specid,cartid:this.cartList[j].id}));\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"../my/order_sure?goodsObj=\" + JSON.stringify(goodsObj) + '&&endPrice=' + this.endPrice\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//删除购物车\r\n\t\t\tclearCartList(id){\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"token\":uni.getStorageSync('token'),\r\n\t\t\t\t\t\"userid\":uni.getStorageSync('customer').userid,\r\n\t\t\t\t\t\"itemid\":id\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t\t// console.log(self.selected)\r\n\t\t\r\n\t\t\t\tthis.ask(\"/app/index/deleteCartItem\",\"POST\",data,function(res){\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tfor(let i = 0; i<self.selected.length ;i++){\r\n\t\t\t\t\t\tif(self.selected[i].itemid == id){\r\n\t\t\t\t\t\t\tself.selected.splice(i,1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t             // console.log(self.selected)\r\n\t\t\t\t\tself.cartList = res.data.data;\r\n\t\t\t\t\tself.end_price();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取购物车列表\r\n\t\t\tgetCartList(){\r\n\t\t\t\tlet self = this;\r\n\t\t        let data = {\r\n\t\t\t\t\t\"token\":uni.getStorageSync('token'),\r\n\t\t\t\t\t\"userid\":uni.getStorageSync('customer').userid\r\n\t\t\t\t}\r\n\t\t\t\tthis.ask(\"/app/index/getCartList\",\"POST\",data,function(res){\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tself.cartList = res.data.data;\t\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//数量加加\r\n\t\t\taddNum(index,num,str){\r\n\t\t\t\t\r\n\t\t\t\tif(num >= 99){\r\n\t\t\t\t\tthis.hint('超过单次购买最大数量');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet newNum = num + 1;\r\n\t\t\t\tVue.set(this.cartList[index],'num',newNum);\r\n\t\t\t\tthis.end_price();\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//数量减减\r\n\t\t\treduceNum(index,num){\r\n\t\t\t\tif(num <= 1){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet newNum = num - 1;\r\n\t\t\t\tVue.set(this.cartList[index],'num',newNum);\r\n\t\t\t\tthis.end_price();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.imgHttp = this.comHttp;\r\n\t\t\t\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.endPrice = 0;\r\n\t\t\tif(uni.getStorageSync('token')== '' && uni.getStorageSync('customer')== ''){\r\n\t\t\t\tthis.isLogin =false\r\n\t\t\t} else{\r\n\t\t\t\tthis.isLogin = true\r\n\t\t\t\tthis.allCheckbox = false;\r\n\t\t\t\tthis.selected = [];\r\n\t\t\t\tthis.getCartList();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import \"./cart.scss\"\r\n</style>\r\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597930625539\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}